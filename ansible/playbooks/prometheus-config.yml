global:
  scrape_interval: 15s

scrape_configs:
  - job_name: 'prometheus'
    scrape_interval: 5s
    static_configs:
      - targets: ['localhost:9090']
  - job_name: 'nginx'
    scrape_interval: 5s
    static_configs:
      - targets: [web1:9113, web2:9113]
    #relabel_configs:
      #- source_labels: [__address__]
        #target_label: instance
        #regex: '(.+):9100'
        #replacement: '$1'
      #- source_labels: [__address__]
        #target_label: __address__
        #replacement: 'node_exporter:9100'

  #- job_name: 'blackbox'
    #metrics_path: /probe
    #params:
      #module: [http_2xx]
    #static_configs:
      #- targets:
        #- http://web1/nginx_status
        #- http://web2/nginx_status
    #relabel_configs:
      #- source_labels: [__address__]
        #target_label: instance
      #- source_labels: [__param_target]
        #target_label: target
      #- target_label: __address__
        #replacement: blackbox_exporter:9115

#rule_files:
  #- /etc/prometheus/alerting-rules.yml  # Path to alerting rules file

#alerting:
  #alertmanagers:
    #- static_configs:
      #- targets: ['alertmanager:9093']